{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _isFunction from \"lodash/isFunction\";\nimport { ARRAY_INSERT, ARRAY_MOVE, ARRAY_POP, ARRAY_PUSH, ARRAY_REMOVE, ARRAY_REMOVE_ALL, ARRAY_SHIFT, ARRAY_SPLICE, ARRAY_SWAP, ARRAY_UNSHIFT, AUTOFILL, BLUR, CHANGE, CLEAR_ASYNC_ERROR, CLEAR_SUBMIT, CLEAR_SUBMIT_ERRORS, DESTROY, FOCUS, INITIALIZE, prefix, REGISTER_FIELD, RESET, RESET_SECTION, SET_SUBMIT_FAILED, SET_SUBMIT_SUCCEEDED, START_ASYNC_VALIDATION, START_SUBMIT, STOP_ASYNC_VALIDATION, STOP_SUBMIT, SUBMIT, TOUCH, UNREGISTER_FIELD, UNTOUCH, UPDATE_SYNC_ERRORS, CLEAR_FIELDS, UPDATE_SYNC_WARNINGS } from './actionTypes';\nimport createDeleteInWithCleanUp from './deleteInWithCleanUp';\nimport plain from './structure/plain';\n\nvar shouldDelete = function shouldDelete(_ref) {\n  var getIn = _ref.getIn;\n  return function (state, path) {\n    var initialValuesPath = null;\n\n    if (/^values/.test(path)) {\n      initialValuesPath = path.replace('values', 'initial');\n    }\n\n    var initialValueComparison = initialValuesPath ? getIn(state, initialValuesPath) === undefined : true;\n    return getIn(state, path) !== undefined && initialValueComparison;\n  };\n};\n\nvar isReduxFormAction = function isReduxFormAction(action) {\n  return action && action.type && action.type.length > prefix.length && action.type.substring(0, prefix.length) === prefix;\n};\n\nfunction createReducer(structure) {\n  var _behaviors;\n\n  var deepEqual = structure.deepEqual,\n      empty = structure.empty,\n      forEach = structure.forEach,\n      getIn = structure.getIn,\n      setIn = structure.setIn,\n      deleteIn = structure.deleteIn,\n      fromJS = structure.fromJS,\n      keys = structure.keys,\n      size = structure.size,\n      some = structure.some,\n      splice = structure.splice;\n  var deleteInWithCleanUp = createDeleteInWithCleanUp(structure)(shouldDelete);\n  var plainDeleteInWithCleanUp = createDeleteInWithCleanUp(plain)(shouldDelete);\n\n  var doSplice = function doSplice(state, key, field, index, removeNum, value, force) {\n    var existing = getIn(state, key + \".\" + field);\n    return existing || force ? setIn(state, key + \".\" + field, splice(existing, index, removeNum, value)) : state;\n  };\n\n  var doPlainSplice = function doPlainSplice(state, key, field, index, removeNum, value, force) {\n    var slice = getIn(state, key);\n    var existing = plain.getIn(slice, field);\n    return existing || force ? setIn(state, key, plain.setIn(slice, field, plain.splice(existing, index, removeNum, value))) : state;\n  };\n\n  var rootKeys = ['values', 'fields', 'submitErrors', 'asyncErrors'];\n\n  var arraySplice = function arraySplice(state, field, index, removeNum, value) {\n    var result = state;\n    var nonValuesValue = value != null ? empty : undefined;\n    result = doSplice(result, 'values', field, index, removeNum, value, true);\n    result = doSplice(result, 'fields', field, index, removeNum, nonValuesValue);\n    result = doPlainSplice(result, 'syncErrors', field, index, removeNum, undefined);\n    result = doPlainSplice(result, 'syncWarnings', field, index, removeNum, undefined);\n    result = doSplice(result, 'submitErrors', field, index, removeNum, undefined);\n    result = doSplice(result, 'asyncErrors', field, index, removeNum, undefined);\n    return result;\n  };\n\n  var behaviors = (_behaviors = {}, _behaviors[ARRAY_INSERT] = function (state, _ref2) {\n    var _ref2$meta = _ref2.meta,\n        field = _ref2$meta.field,\n        index = _ref2$meta.index,\n        payload = _ref2.payload;\n    return arraySplice(state, field, index, 0, payload);\n  }, _behaviors[ARRAY_MOVE] = function (state, _ref3) {\n    var _ref3$meta = _ref3.meta,\n        field = _ref3$meta.field,\n        from = _ref3$meta.from,\n        to = _ref3$meta.to;\n    var array = getIn(state, \"values.\" + field);\n    var length = array ? size(array) : 0;\n    var result = state;\n\n    if (length) {\n      rootKeys.forEach(function (key) {\n        var path = key + \".\" + field;\n\n        if (getIn(result, path)) {\n          var value = getIn(result, path + \"[\" + from + \"]\");\n          result = setIn(result, path, splice(getIn(result, path), from, 1)); // remove\n\n          result = setIn(result, path, splice(getIn(result, path), to, 0, value)); // insert\n        }\n      });\n    }\n\n    return result;\n  }, _behaviors[ARRAY_POP] = function (state, _ref4) {\n    var field = _ref4.meta.field;\n    var array = getIn(state, \"values.\" + field);\n    var length = array ? size(array) : 0;\n    return length ? arraySplice(state, field, length - 1, 1) : state;\n  }, _behaviors[ARRAY_PUSH] = function (state, _ref5) {\n    var field = _ref5.meta.field,\n        payload = _ref5.payload;\n    var array = getIn(state, \"values.\" + field);\n    var length = array ? size(array) : 0;\n    return arraySplice(state, field, length, 0, payload);\n  }, _behaviors[ARRAY_REMOVE] = function (state, _ref6) {\n    var _ref6$meta = _ref6.meta,\n        field = _ref6$meta.field,\n        index = _ref6$meta.index;\n    return arraySplice(state, field, index, 1);\n  }, _behaviors[ARRAY_REMOVE_ALL] = function (state, _ref7) {\n    var field = _ref7.meta.field;\n    var array = getIn(state, \"values.\" + field);\n    var length = array ? size(array) : 0;\n    return length ? arraySplice(state, field, 0, length) : state;\n  }, _behaviors[ARRAY_SHIFT] = function (state, _ref8) {\n    var field = _ref8.meta.field;\n    return arraySplice(state, field, 0, 1);\n  }, _behaviors[ARRAY_SPLICE] = function (state, _ref9) {\n    var _ref9$meta = _ref9.meta,\n        field = _ref9$meta.field,\n        index = _ref9$meta.index,\n        removeNum = _ref9$meta.removeNum,\n        payload = _ref9.payload;\n    return arraySplice(state, field, index, removeNum, payload);\n  }, _behaviors[ARRAY_SWAP] = function (state, _ref10) {\n    var _ref10$meta = _ref10.meta,\n        field = _ref10$meta.field,\n        indexA = _ref10$meta.indexA,\n        indexB = _ref10$meta.indexB;\n    var result = state;\n    rootKeys.forEach(function (key) {\n      var valueA = getIn(result, key + \".\" + field + \"[\" + indexA + \"]\");\n      var valueB = getIn(result, key + \".\" + field + \"[\" + indexB + \"]\");\n\n      if (valueA !== undefined || valueB !== undefined) {\n        result = setIn(result, key + \".\" + field + \"[\" + indexA + \"]\", valueB);\n        result = setIn(result, key + \".\" + field + \"[\" + indexB + \"]\", valueA);\n      }\n    });\n    return result;\n  }, _behaviors[ARRAY_UNSHIFT] = function (state, _ref11) {\n    var field = _ref11.meta.field,\n        payload = _ref11.payload;\n    return arraySplice(state, field, 0, 0, payload);\n  }, _behaviors[AUTOFILL] = function (state, _ref12) {\n    var field = _ref12.meta.field,\n        payload = _ref12.payload;\n    var result = state;\n    result = deleteInWithCleanUp(result, \"asyncErrors.\" + field);\n    result = deleteInWithCleanUp(result, \"submitErrors.\" + field);\n    result = setIn(result, \"fields.\" + field + \".autofilled\", true);\n    result = setIn(result, \"values.\" + field, payload);\n    return result;\n  }, _behaviors[BLUR] = function (state, _ref13) {\n    var _ref13$meta = _ref13.meta,\n        field = _ref13$meta.field,\n        touch = _ref13$meta.touch,\n        payload = _ref13.payload;\n    var result = state;\n    var initial = getIn(result, \"initial.\" + field);\n\n    if (initial === undefined && payload === '') {\n      result = deleteInWithCleanUp(result, \"values.\" + field);\n    } else if (payload !== undefined) {\n      result = setIn(result, \"values.\" + field, payload);\n    }\n\n    if (field === getIn(result, 'active')) {\n      result = deleteIn(result, 'active');\n    }\n\n    result = deleteIn(result, \"fields.\" + field + \".active\");\n\n    if (touch) {\n      result = setIn(result, \"fields.\" + field + \".touched\", true);\n      result = setIn(result, 'anyTouched', true);\n    }\n\n    return result;\n  }, _behaviors[CHANGE] = function (state, _ref14) {\n    var _ref14$meta = _ref14.meta,\n        field = _ref14$meta.field,\n        touch = _ref14$meta.touch,\n        persistentSubmitErrors = _ref14$meta.persistentSubmitErrors,\n        payload = _ref14.payload;\n    var result = state;\n    var initial = getIn(result, \"initial.\" + field);\n\n    if (initial === undefined && payload === '' || payload === undefined) {\n      result = deleteInWithCleanUp(result, \"values.\" + field);\n    } else if (_isFunction(payload)) {\n      var fieldCurrentValue = getIn(state, \"values.\" + field);\n      result = setIn(result, \"values.\" + field, payload(fieldCurrentValue, state.values));\n    } else {\n      result = setIn(result, \"values.\" + field, payload);\n    }\n\n    result = deleteInWithCleanUp(result, \"asyncErrors.\" + field);\n\n    if (!persistentSubmitErrors) {\n      result = deleteInWithCleanUp(result, \"submitErrors.\" + field);\n    }\n\n    result = deleteInWithCleanUp(result, \"fields.\" + field + \".autofilled\");\n\n    if (touch) {\n      result = setIn(result, \"fields.\" + field + \".touched\", true);\n      result = setIn(result, 'anyTouched', true);\n    }\n\n    return result;\n  }, _behaviors[CLEAR_SUBMIT] = function (state) {\n    return deleteIn(state, 'triggerSubmit');\n  }, _behaviors[CLEAR_SUBMIT_ERRORS] = function (state) {\n    var result = state;\n    result = deleteInWithCleanUp(result, 'submitErrors');\n    result = deleteIn(result, 'error');\n    return result;\n  }, _behaviors[CLEAR_ASYNC_ERROR] = function (state, _ref15) {\n    var field = _ref15.meta.field;\n    return deleteIn(state, \"asyncErrors.\" + field);\n  }, _behaviors[CLEAR_FIELDS] = function (state, _ref16) {\n    var _ref16$meta = _ref16.meta,\n        keepTouched = _ref16$meta.keepTouched,\n        persistentSubmitErrors = _ref16$meta.persistentSubmitErrors,\n        fields = _ref16$meta.fields;\n    var result = state;\n    fields.forEach(function (field) {\n      result = deleteInWithCleanUp(result, \"asyncErrors.\" + field);\n\n      if (!persistentSubmitErrors) {\n        result = deleteInWithCleanUp(result, \"submitErrors.\" + field);\n      }\n\n      result = deleteInWithCleanUp(result, \"fields.\" + field + \".autofilled\");\n\n      if (!keepTouched) {\n        result = deleteIn(result, \"fields.\" + field + \".touched\");\n      }\n\n      var values = getIn(state, \"initial.\" + field);\n      result = values ? setIn(result, \"values.\" + field, values) : deleteInWithCleanUp(result, \"values.\" + field);\n    });\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, \"fields.\" + key + \".touched\");\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n    return result;\n  }, _behaviors[FOCUS] = function (state, _ref17) {\n    var field = _ref17.meta.field;\n    var result = state;\n    var previouslyActive = getIn(state, 'active');\n    result = deleteIn(result, \"fields.\" + previouslyActive + \".active\");\n    result = setIn(result, \"fields.\" + field + \".visited\", true);\n    result = setIn(result, \"fields.\" + field + \".active\", true);\n    result = setIn(result, 'active', field);\n    return result;\n  }, _behaviors[INITIALIZE] = function (state, _ref18) {\n    var payload = _ref18.payload,\n        _ref18$meta = _ref18.meta,\n        keepDirty = _ref18$meta.keepDirty,\n        keepSubmitSucceeded = _ref18$meta.keepSubmitSucceeded,\n        updateUnregisteredFields = _ref18$meta.updateUnregisteredFields,\n        keepValues = _ref18$meta.keepValues;\n    var mapData = fromJS(payload);\n    var result = empty; // clean all field state\n    // persist old warnings, they will get recalculated if the new form values are different from the old values\n\n    var warning = getIn(state, 'warning');\n\n    if (warning) {\n      result = setIn(result, 'warning', warning);\n    }\n\n    var syncWarnings = getIn(state, 'syncWarnings');\n\n    if (syncWarnings) {\n      result = setIn(result, 'syncWarnings', syncWarnings);\n    } // persist old errors, they will get recalculated if the new form values are different from the old values\n\n\n    var error = getIn(state, 'error');\n\n    if (error) {\n      result = setIn(result, 'error', error);\n    }\n\n    var syncErrors = getIn(state, 'syncErrors');\n\n    if (syncErrors) {\n      result = setIn(result, 'syncErrors', syncErrors);\n    }\n\n    var registeredFields = getIn(state, 'registeredFields');\n\n    if (registeredFields) {\n      result = setIn(result, 'registeredFields', registeredFields);\n    }\n\n    var previousValues = getIn(state, 'values');\n    var previousInitialValues = getIn(state, 'initial');\n    var newInitialValues = mapData;\n    var newValues = previousValues;\n\n    if (keepDirty && registeredFields) {\n      if (!deepEqual(newInitialValues, previousInitialValues)) {\n        //\n        // Keep the value of dirty fields while updating the value of\n        // pristine fields. This way, apps can reinitialize forms while\n        // avoiding stomping on user edits.\n        //\n        // Note 1: The initialize action replaces all initial values\n        // regardless of keepDirty.\n        //\n        // Note 2: When a field is dirty, keepDirty is enabled, and the field\n        // value is the same as the new initial value for the field, the\n        // initialize action causes the field to become pristine. That effect\n        // is what we want.\n        //\n        var overwritePristineValue = function overwritePristineValue(name) {\n          var previousInitialValue = getIn(previousInitialValues, name);\n          var previousValue = getIn(previousValues, name);\n\n          if (deepEqual(previousValue, previousInitialValue)) {\n            // Overwrite the old pristine value with the new pristine value\n            var newInitialValue = getIn(newInitialValues, name); // This check prevents any 'setIn' call that would create useless\n            // nested objects, since the path to the new field value would\n            // evaluate to the same (especially for undefined values)\n\n            if (getIn(newValues, name) !== newInitialValue) {\n              newValues = setIn(newValues, name, newInitialValue);\n            }\n          }\n        };\n\n        if (!updateUnregisteredFields) {\n          forEach(keys(registeredFields), function (name) {\n            return overwritePristineValue(name);\n          });\n        }\n\n        forEach(keys(newInitialValues), function (name) {\n          var previousInitialValue = getIn(previousInitialValues, name);\n\n          if (typeof previousInitialValue === 'undefined') {\n            // Add new values at the root level.\n            var newInitialValue = getIn(newInitialValues, name);\n            newValues = setIn(newValues, name, newInitialValue);\n          }\n\n          if (updateUnregisteredFields) {\n            overwritePristineValue(name);\n          }\n        });\n      }\n    } else {\n      newValues = newInitialValues;\n    }\n\n    if (keepValues) {\n      forEach(keys(previousValues), function (name) {\n        var previousValue = getIn(previousValues, name);\n        newValues = setIn(newValues, name, previousValue);\n      });\n      forEach(keys(previousInitialValues), function (name) {\n        var previousInitialValue = getIn(previousInitialValues, name);\n        newInitialValues = setIn(newInitialValues, name, previousInitialValue);\n      });\n    }\n\n    if (keepSubmitSucceeded && getIn(state, 'submitSucceeded')) {\n      result = setIn(result, 'submitSucceeded', true);\n    }\n\n    result = setIn(result, 'values', newValues);\n    result = setIn(result, 'initial', newInitialValues);\n    return result;\n  }, _behaviors[REGISTER_FIELD] = function (state, _ref19) {\n    var _ref19$payload = _ref19.payload,\n        name = _ref19$payload.name,\n        type = _ref19$payload.type;\n    var key = \"registeredFields['\" + name + \"']\";\n    var field = getIn(state, key);\n\n    if (field) {\n      var count = getIn(field, 'count') + 1;\n      field = setIn(field, 'count', count);\n    } else {\n      field = fromJS({\n        name: name,\n        type: type,\n        count: 1\n      });\n    }\n\n    return setIn(state, key, field);\n  }, _behaviors[RESET] = function (state) {\n    var result = empty;\n    var registeredFields = getIn(state, 'registeredFields');\n\n    if (registeredFields) {\n      result = setIn(result, 'registeredFields', registeredFields);\n    }\n\n    var values = getIn(state, 'initial');\n\n    if (values) {\n      result = setIn(result, 'values', values);\n      result = setIn(result, 'initial', values);\n    }\n\n    return result;\n  }, _behaviors[RESET_SECTION] = function (state, _ref20) {\n    var sections = _ref20.meta.sections;\n    var result = state;\n    sections.forEach(function (section) {\n      result = deleteInWithCleanUp(result, \"asyncErrors.\" + section);\n      result = deleteInWithCleanUp(result, \"submitErrors.\" + section);\n      result = deleteInWithCleanUp(result, \"fields.\" + section);\n      var values = getIn(state, \"initial.\" + section);\n      result = values ? setIn(result, \"values.\" + section, values) : deleteInWithCleanUp(result, \"values.\" + section);\n    });\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, \"fields.\" + key + \".touched\");\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n    return result;\n  }, _behaviors[SUBMIT] = function (state) {\n    return setIn(state, 'triggerSubmit', true);\n  }, _behaviors[START_ASYNC_VALIDATION] = function (state, _ref21) {\n    var field = _ref21.meta.field;\n    return setIn(state, 'asyncValidating', field || true);\n  }, _behaviors[START_SUBMIT] = function (state) {\n    return setIn(state, 'submitting', true);\n  }, _behaviors[STOP_ASYNC_VALIDATION] = function (state, _ref22) {\n    var payload = _ref22.payload;\n    var result = state;\n    result = deleteIn(result, 'asyncValidating');\n\n    if (payload && Object.keys(payload).length) {\n      var _error = payload._error,\n          fieldErrors = _objectWithoutPropertiesLoose(payload, [\"_error\"]);\n\n      if (_error) {\n        result = setIn(result, 'error', _error);\n      }\n\n      if (Object.keys(fieldErrors).length) {\n        result = setIn(result, 'asyncErrors', fromJS(fieldErrors));\n      }\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'asyncErrors');\n    }\n\n    return result;\n  }, _behaviors[STOP_SUBMIT] = function (state, _ref23) {\n    var payload = _ref23.payload;\n    var result = state;\n    result = deleteIn(result, 'submitting');\n    result = deleteIn(result, 'submitFailed');\n    result = deleteIn(result, 'submitSucceeded');\n\n    if (payload && Object.keys(payload).length) {\n      var _error = payload._error,\n          fieldErrors = _objectWithoutPropertiesLoose(payload, [\"_error\"]);\n\n      if (_error) {\n        result = setIn(result, 'error', _error);\n      } else {\n        result = deleteIn(result, 'error');\n      }\n\n      if (Object.keys(fieldErrors).length) {\n        result = setIn(result, 'submitErrors', fromJS(fieldErrors));\n      } else {\n        result = deleteIn(result, 'submitErrors');\n      }\n\n      result = setIn(result, 'submitFailed', true);\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'submitErrors');\n    }\n\n    return result;\n  }, _behaviors[SET_SUBMIT_FAILED] = function (state, _ref24) {\n    var fields = _ref24.meta.fields;\n    var result = state;\n    result = setIn(result, 'submitFailed', true);\n    result = deleteIn(result, 'submitSucceeded');\n    result = deleteIn(result, 'submitting');\n    fields.forEach(function (field) {\n      return result = setIn(result, \"fields.\" + field + \".touched\", true);\n    });\n\n    if (fields.length) {\n      result = setIn(result, 'anyTouched', true);\n    }\n\n    return result;\n  }, _behaviors[SET_SUBMIT_SUCCEEDED] = function (state) {\n    var result = state;\n    result = deleteIn(result, 'submitFailed');\n    result = setIn(result, 'submitSucceeded', true);\n    return result;\n  }, _behaviors[TOUCH] = function (state, _ref25) {\n    var fields = _ref25.meta.fields;\n    var result = state;\n    fields.forEach(function (field) {\n      return result = setIn(result, \"fields.\" + field + \".touched\", true);\n    });\n    result = setIn(result, 'anyTouched', true);\n    return result;\n  }, _behaviors[UNREGISTER_FIELD] = function (state, _ref26) {\n    var _ref26$payload = _ref26.payload,\n        name = _ref26$payload.name,\n        destroyOnUnmount = _ref26$payload.destroyOnUnmount;\n    var result = state;\n    var key = \"registeredFields['\" + name + \"']\";\n    var field = getIn(result, key);\n\n    if (!field) {\n      return result;\n    }\n\n    var count = getIn(field, 'count') - 1;\n\n    if (count <= 0 && destroyOnUnmount) {\n      // Note: Cannot use deleteWithCleanUp here because of the flat nature of registeredFields\n      result = deleteIn(result, key);\n\n      if (deepEqual(getIn(result, 'registeredFields'), empty)) {\n        result = deleteIn(result, 'registeredFields');\n      }\n\n      var syncErrors = getIn(result, 'syncErrors');\n\n      if (syncErrors) {\n        syncErrors = plainDeleteInWithCleanUp(syncErrors, name);\n\n        if (plain.deepEqual(syncErrors, plain.empty)) {\n          result = deleteIn(result, 'syncErrors');\n        } else {\n          result = setIn(result, 'syncErrors', syncErrors);\n        }\n      }\n\n      var syncWarnings = getIn(result, 'syncWarnings');\n\n      if (syncWarnings) {\n        syncWarnings = plainDeleteInWithCleanUp(syncWarnings, name);\n\n        if (plain.deepEqual(syncWarnings, plain.empty)) {\n          result = deleteIn(result, 'syncWarnings');\n        } else {\n          result = setIn(result, 'syncWarnings', syncWarnings);\n        }\n      }\n\n      result = deleteInWithCleanUp(result, \"submitErrors.\" + name);\n      result = deleteInWithCleanUp(result, \"asyncErrors.\" + name);\n    } else {\n      field = setIn(field, 'count', count);\n      result = setIn(result, key, field);\n    }\n\n    return result;\n  }, _behaviors[UNTOUCH] = function (state, _ref27) {\n    var fields = _ref27.meta.fields;\n    var result = state;\n    fields.forEach(function (field) {\n      return result = deleteIn(result, \"fields.\" + field + \".touched\");\n    });\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, \"fields.\" + key + \".touched\");\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n    return result;\n  }, _behaviors[UPDATE_SYNC_ERRORS] = function (state, _ref28) {\n    var _ref28$payload = _ref28.payload,\n        syncErrors = _ref28$payload.syncErrors,\n        error = _ref28$payload.error;\n    var result = state;\n\n    if (error) {\n      result = setIn(result, 'error', error);\n      result = setIn(result, 'syncError', true);\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'syncError');\n    }\n\n    if (Object.keys(syncErrors).length) {\n      result = setIn(result, 'syncErrors', syncErrors);\n    } else {\n      result = deleteIn(result, 'syncErrors');\n    }\n\n    return result;\n  }, _behaviors[UPDATE_SYNC_WARNINGS] = function (state, _ref29) {\n    var _ref29$payload = _ref29.payload,\n        syncWarnings = _ref29$payload.syncWarnings,\n        warning = _ref29$payload.warning;\n    var result = state;\n\n    if (warning) {\n      result = setIn(result, 'warning', warning);\n    } else {\n      result = deleteIn(result, 'warning');\n    }\n\n    if (Object.keys(syncWarnings).length) {\n      result = setIn(result, 'syncWarnings', syncWarnings);\n    } else {\n      result = deleteIn(result, 'syncWarnings');\n    }\n\n    return result;\n  }, _behaviors);\n\n  var reducer = function reducer(state, action) {\n    if (state === void 0) {\n      state = empty;\n    }\n\n    var behavior = behaviors[action.type];\n    return behavior ? behavior(state, action) : state;\n  };\n\n  var byForm = function byForm(reducer) {\n    return function (state, action) {\n      if (state === void 0) {\n        state = empty;\n      }\n\n      if (action === void 0) {\n        action = {\n          type: 'NONE'\n        };\n      }\n\n      var form = action && action.meta && action.meta.form;\n\n      if (!form || !isReduxFormAction(action)) {\n        return state;\n      }\n\n      if (action.type === DESTROY && action.meta && action.meta.form) {\n        return action.meta.form.reduce(function (result, form) {\n          return deleteInWithCleanUp(result, form);\n        }, state);\n      }\n\n      var formState = getIn(state, form);\n      var result = reducer(formState, action);\n      return result === formState ? state : setIn(state, form, result);\n    };\n  };\n  /**\n   * Adds additional functionality to the reducer\n   */\n\n\n  function decorate(target) {\n    target.plugin = function (reducers, config) {\n      var _this = this;\n\n      if (config === void 0) {\n        config = {};\n      } // use 'function' keyword to enable 'this'\n\n\n      return decorate(function (state, action) {\n        if (state === void 0) {\n          state = empty;\n        }\n\n        if (action === void 0) {\n          action = {\n            type: 'NONE'\n          };\n        }\n\n        var callPlugin = function callPlugin(processed, key) {\n          var previousState = getIn(processed, key);\n          var nextState = reducers[key](previousState, action, getIn(state, key));\n          return nextState !== previousState ? setIn(processed, key, nextState) : processed;\n        };\n\n        var processed = _this(state, action); // run through redux-form reducer\n\n\n        var form = action && action.meta && action.meta.form;\n\n        if (form && !config.receiveAllFormActions) {\n          // this is an action aimed at forms, so only give it to the specified form's plugin\n          return reducers[form] ? callPlugin(processed, form) : processed;\n        } else {\n          // this is not a form-specific action, so send it to all the plugins\n          return Object.keys(reducers).reduce(callPlugin, processed);\n        }\n      });\n    };\n\n    return target;\n  }\n\n  return decorate(byForm(reducer));\n}\n\nexport default createReducer;","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_isFunction","ARRAY_INSERT","ARRAY_MOVE","ARRAY_POP","ARRAY_PUSH","ARRAY_REMOVE","ARRAY_REMOVE_ALL","ARRAY_SHIFT","ARRAY_SPLICE","ARRAY_SWAP","ARRAY_UNSHIFT","AUTOFILL","BLUR","CHANGE","CLEAR_ASYNC_ERROR","CLEAR_SUBMIT","CLEAR_SUBMIT_ERRORS","DESTROY","FOCUS","INITIALIZE","prefix","REGISTER_FIELD","RESET","RESET_SECTION","SET_SUBMIT_FAILED","SET_SUBMIT_SUCCEEDED","START_ASYNC_VALIDATION","START_SUBMIT","STOP_ASYNC_VALIDATION","STOP_SUBMIT","SUBMIT","TOUCH","UNREGISTER_FIELD","UNTOUCH","UPDATE_SYNC_ERRORS","CLEAR_FIELDS","UPDATE_SYNC_WARNINGS","createDeleteInWithCleanUp","plain","shouldDelete","_ref","getIn","state","path","initialValuesPath","test","replace","initialValueComparison","undefined","isReduxFormAction","action","type","length","substring","createReducer","structure","_behaviors","deepEqual","empty","forEach","setIn","deleteIn","fromJS","keys","size","some","splice","deleteInWithCleanUp","plainDeleteInWithCleanUp","doSplice","key","field","index","removeNum","value","force","existing","doPlainSplice","slice","rootKeys","arraySplice","result","nonValuesValue","behaviors","_ref2","_ref2$meta","meta","payload","_ref3","_ref3$meta","from","to","array","_ref4","_ref5","_ref6","_ref6$meta","_ref7","_ref8","_ref9","_ref9$meta","_ref10","_ref10$meta","indexA","indexB","valueA","valueB","_ref11","_ref12","_ref13","_ref13$meta","touch","initial","_ref14","_ref14$meta","persistentSubmitErrors","fieldCurrentValue","values","_ref15","_ref16","_ref16$meta","keepTouched","fields","anyTouched","_ref17","previouslyActive","_ref18","_ref18$meta","keepDirty","keepSubmitSucceeded","updateUnregisteredFields","keepValues","mapData","warning","syncWarnings","error","syncErrors","registeredFields","previousValues","previousInitialValues","newInitialValues","newValues","overwritePristineValue","name","previousInitialValue","previousValue","newInitialValue","_ref19","_ref19$payload","count","_ref20","sections","section","_ref21","_ref22","Object","_error","fieldErrors","_ref23","_ref24","_ref25","_ref26","_ref26$payload","destroyOnUnmount","_ref27","_ref28","_ref28$payload","_ref29","_ref29$payload","reducer","behavior","byForm","form","reduce","formState","decorate","target","plugin","reducers","config","_this","callPlugin","processed","previousState","nextState","receiveAllFormActions"],"sources":["/Users/ytang/Documents/React/streams/client/node_modules/redux-form/es/createReducer.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _isFunction from \"lodash/isFunction\";\nimport { ARRAY_INSERT, ARRAY_MOVE, ARRAY_POP, ARRAY_PUSH, ARRAY_REMOVE, ARRAY_REMOVE_ALL, ARRAY_SHIFT, ARRAY_SPLICE, ARRAY_SWAP, ARRAY_UNSHIFT, AUTOFILL, BLUR, CHANGE, CLEAR_ASYNC_ERROR, CLEAR_SUBMIT, CLEAR_SUBMIT_ERRORS, DESTROY, FOCUS, INITIALIZE, prefix, REGISTER_FIELD, RESET, RESET_SECTION, SET_SUBMIT_FAILED, SET_SUBMIT_SUCCEEDED, START_ASYNC_VALIDATION, START_SUBMIT, STOP_ASYNC_VALIDATION, STOP_SUBMIT, SUBMIT, TOUCH, UNREGISTER_FIELD, UNTOUCH, UPDATE_SYNC_ERRORS, CLEAR_FIELDS, UPDATE_SYNC_WARNINGS } from './actionTypes';\nimport createDeleteInWithCleanUp from './deleteInWithCleanUp';\nimport plain from './structure/plain';\n\nvar shouldDelete = function shouldDelete(_ref) {\n  var getIn = _ref.getIn;\n  return function (state, path) {\n    var initialValuesPath = null;\n\n    if (/^values/.test(path)) {\n      initialValuesPath = path.replace('values', 'initial');\n    }\n\n    var initialValueComparison = initialValuesPath ? getIn(state, initialValuesPath) === undefined : true;\n    return getIn(state, path) !== undefined && initialValueComparison;\n  };\n};\n\nvar isReduxFormAction = function isReduxFormAction(action) {\n  return action && action.type && action.type.length > prefix.length && action.type.substring(0, prefix.length) === prefix;\n};\n\nfunction createReducer(structure) {\n  var _behaviors;\n\n  var deepEqual = structure.deepEqual,\n      empty = structure.empty,\n      forEach = structure.forEach,\n      getIn = structure.getIn,\n      setIn = structure.setIn,\n      deleteIn = structure.deleteIn,\n      fromJS = structure.fromJS,\n      keys = structure.keys,\n      size = structure.size,\n      some = structure.some,\n      splice = structure.splice;\n  var deleteInWithCleanUp = createDeleteInWithCleanUp(structure)(shouldDelete);\n  var plainDeleteInWithCleanUp = createDeleteInWithCleanUp(plain)(shouldDelete);\n\n  var doSplice = function doSplice(state, key, field, index, removeNum, value, force) {\n    var existing = getIn(state, key + \".\" + field);\n    return existing || force ? setIn(state, key + \".\" + field, splice(existing, index, removeNum, value)) : state;\n  };\n\n  var doPlainSplice = function doPlainSplice(state, key, field, index, removeNum, value, force) {\n    var slice = getIn(state, key);\n    var existing = plain.getIn(slice, field);\n    return existing || force ? setIn(state, key, plain.setIn(slice, field, plain.splice(existing, index, removeNum, value))) : state;\n  };\n\n  var rootKeys = ['values', 'fields', 'submitErrors', 'asyncErrors'];\n\n  var arraySplice = function arraySplice(state, field, index, removeNum, value) {\n    var result = state;\n    var nonValuesValue = value != null ? empty : undefined;\n    result = doSplice(result, 'values', field, index, removeNum, value, true);\n    result = doSplice(result, 'fields', field, index, removeNum, nonValuesValue);\n    result = doPlainSplice(result, 'syncErrors', field, index, removeNum, undefined);\n    result = doPlainSplice(result, 'syncWarnings', field, index, removeNum, undefined);\n    result = doSplice(result, 'submitErrors', field, index, removeNum, undefined);\n    result = doSplice(result, 'asyncErrors', field, index, removeNum, undefined);\n    return result;\n  };\n\n  var behaviors = (_behaviors = {}, _behaviors[ARRAY_INSERT] = function (state, _ref2) {\n    var _ref2$meta = _ref2.meta,\n        field = _ref2$meta.field,\n        index = _ref2$meta.index,\n        payload = _ref2.payload;\n    return arraySplice(state, field, index, 0, payload);\n  }, _behaviors[ARRAY_MOVE] = function (state, _ref3) {\n    var _ref3$meta = _ref3.meta,\n        field = _ref3$meta.field,\n        from = _ref3$meta.from,\n        to = _ref3$meta.to;\n    var array = getIn(state, \"values.\" + field);\n    var length = array ? size(array) : 0;\n    var result = state;\n\n    if (length) {\n      rootKeys.forEach(function (key) {\n        var path = key + \".\" + field;\n\n        if (getIn(result, path)) {\n          var value = getIn(result, path + \"[\" + from + \"]\");\n          result = setIn(result, path, splice(getIn(result, path), from, 1)); // remove\n\n          result = setIn(result, path, splice(getIn(result, path), to, 0, value)); // insert\n        }\n      });\n    }\n\n    return result;\n  }, _behaviors[ARRAY_POP] = function (state, _ref4) {\n    var field = _ref4.meta.field;\n    var array = getIn(state, \"values.\" + field);\n    var length = array ? size(array) : 0;\n    return length ? arraySplice(state, field, length - 1, 1) : state;\n  }, _behaviors[ARRAY_PUSH] = function (state, _ref5) {\n    var field = _ref5.meta.field,\n        payload = _ref5.payload;\n    var array = getIn(state, \"values.\" + field);\n    var length = array ? size(array) : 0;\n    return arraySplice(state, field, length, 0, payload);\n  }, _behaviors[ARRAY_REMOVE] = function (state, _ref6) {\n    var _ref6$meta = _ref6.meta,\n        field = _ref6$meta.field,\n        index = _ref6$meta.index;\n    return arraySplice(state, field, index, 1);\n  }, _behaviors[ARRAY_REMOVE_ALL] = function (state, _ref7) {\n    var field = _ref7.meta.field;\n    var array = getIn(state, \"values.\" + field);\n    var length = array ? size(array) : 0;\n    return length ? arraySplice(state, field, 0, length) : state;\n  }, _behaviors[ARRAY_SHIFT] = function (state, _ref8) {\n    var field = _ref8.meta.field;\n    return arraySplice(state, field, 0, 1);\n  }, _behaviors[ARRAY_SPLICE] = function (state, _ref9) {\n    var _ref9$meta = _ref9.meta,\n        field = _ref9$meta.field,\n        index = _ref9$meta.index,\n        removeNum = _ref9$meta.removeNum,\n        payload = _ref9.payload;\n    return arraySplice(state, field, index, removeNum, payload);\n  }, _behaviors[ARRAY_SWAP] = function (state, _ref10) {\n    var _ref10$meta = _ref10.meta,\n        field = _ref10$meta.field,\n        indexA = _ref10$meta.indexA,\n        indexB = _ref10$meta.indexB;\n    var result = state;\n    rootKeys.forEach(function (key) {\n      var valueA = getIn(result, key + \".\" + field + \"[\" + indexA + \"]\");\n      var valueB = getIn(result, key + \".\" + field + \"[\" + indexB + \"]\");\n\n      if (valueA !== undefined || valueB !== undefined) {\n        result = setIn(result, key + \".\" + field + \"[\" + indexA + \"]\", valueB);\n        result = setIn(result, key + \".\" + field + \"[\" + indexB + \"]\", valueA);\n      }\n    });\n    return result;\n  }, _behaviors[ARRAY_UNSHIFT] = function (state, _ref11) {\n    var field = _ref11.meta.field,\n        payload = _ref11.payload;\n    return arraySplice(state, field, 0, 0, payload);\n  }, _behaviors[AUTOFILL] = function (state, _ref12) {\n    var field = _ref12.meta.field,\n        payload = _ref12.payload;\n    var result = state;\n    result = deleteInWithCleanUp(result, \"asyncErrors.\" + field);\n    result = deleteInWithCleanUp(result, \"submitErrors.\" + field);\n    result = setIn(result, \"fields.\" + field + \".autofilled\", true);\n    result = setIn(result, \"values.\" + field, payload);\n    return result;\n  }, _behaviors[BLUR] = function (state, _ref13) {\n    var _ref13$meta = _ref13.meta,\n        field = _ref13$meta.field,\n        touch = _ref13$meta.touch,\n        payload = _ref13.payload;\n    var result = state;\n    var initial = getIn(result, \"initial.\" + field);\n\n    if (initial === undefined && payload === '') {\n      result = deleteInWithCleanUp(result, \"values.\" + field);\n    } else if (payload !== undefined) {\n      result = setIn(result, \"values.\" + field, payload);\n    }\n\n    if (field === getIn(result, 'active')) {\n      result = deleteIn(result, 'active');\n    }\n\n    result = deleteIn(result, \"fields.\" + field + \".active\");\n\n    if (touch) {\n      result = setIn(result, \"fields.\" + field + \".touched\", true);\n      result = setIn(result, 'anyTouched', true);\n    }\n\n    return result;\n  }, _behaviors[CHANGE] = function (state, _ref14) {\n    var _ref14$meta = _ref14.meta,\n        field = _ref14$meta.field,\n        touch = _ref14$meta.touch,\n        persistentSubmitErrors = _ref14$meta.persistentSubmitErrors,\n        payload = _ref14.payload;\n    var result = state;\n    var initial = getIn(result, \"initial.\" + field);\n\n    if (initial === undefined && payload === '' || payload === undefined) {\n      result = deleteInWithCleanUp(result, \"values.\" + field);\n    } else if (_isFunction(payload)) {\n      var fieldCurrentValue = getIn(state, \"values.\" + field);\n      result = setIn(result, \"values.\" + field, payload(fieldCurrentValue, state.values));\n    } else {\n      result = setIn(result, \"values.\" + field, payload);\n    }\n\n    result = deleteInWithCleanUp(result, \"asyncErrors.\" + field);\n\n    if (!persistentSubmitErrors) {\n      result = deleteInWithCleanUp(result, \"submitErrors.\" + field);\n    }\n\n    result = deleteInWithCleanUp(result, \"fields.\" + field + \".autofilled\");\n\n    if (touch) {\n      result = setIn(result, \"fields.\" + field + \".touched\", true);\n      result = setIn(result, 'anyTouched', true);\n    }\n\n    return result;\n  }, _behaviors[CLEAR_SUBMIT] = function (state) {\n    return deleteIn(state, 'triggerSubmit');\n  }, _behaviors[CLEAR_SUBMIT_ERRORS] = function (state) {\n    var result = state;\n    result = deleteInWithCleanUp(result, 'submitErrors');\n    result = deleteIn(result, 'error');\n    return result;\n  }, _behaviors[CLEAR_ASYNC_ERROR] = function (state, _ref15) {\n    var field = _ref15.meta.field;\n    return deleteIn(state, \"asyncErrors.\" + field);\n  }, _behaviors[CLEAR_FIELDS] = function (state, _ref16) {\n    var _ref16$meta = _ref16.meta,\n        keepTouched = _ref16$meta.keepTouched,\n        persistentSubmitErrors = _ref16$meta.persistentSubmitErrors,\n        fields = _ref16$meta.fields;\n    var result = state;\n    fields.forEach(function (field) {\n      result = deleteInWithCleanUp(result, \"asyncErrors.\" + field);\n\n      if (!persistentSubmitErrors) {\n        result = deleteInWithCleanUp(result, \"submitErrors.\" + field);\n      }\n\n      result = deleteInWithCleanUp(result, \"fields.\" + field + \".autofilled\");\n\n      if (!keepTouched) {\n        result = deleteIn(result, \"fields.\" + field + \".touched\");\n      }\n\n      var values = getIn(state, \"initial.\" + field);\n      result = values ? setIn(result, \"values.\" + field, values) : deleteInWithCleanUp(result, \"values.\" + field);\n    });\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, \"fields.\" + key + \".touched\");\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n    return result;\n  }, _behaviors[FOCUS] = function (state, _ref17) {\n    var field = _ref17.meta.field;\n    var result = state;\n    var previouslyActive = getIn(state, 'active');\n    result = deleteIn(result, \"fields.\" + previouslyActive + \".active\");\n    result = setIn(result, \"fields.\" + field + \".visited\", true);\n    result = setIn(result, \"fields.\" + field + \".active\", true);\n    result = setIn(result, 'active', field);\n    return result;\n  }, _behaviors[INITIALIZE] = function (state, _ref18) {\n    var payload = _ref18.payload,\n        _ref18$meta = _ref18.meta,\n        keepDirty = _ref18$meta.keepDirty,\n        keepSubmitSucceeded = _ref18$meta.keepSubmitSucceeded,\n        updateUnregisteredFields = _ref18$meta.updateUnregisteredFields,\n        keepValues = _ref18$meta.keepValues;\n    var mapData = fromJS(payload);\n    var result = empty; // clean all field state\n    // persist old warnings, they will get recalculated if the new form values are different from the old values\n\n    var warning = getIn(state, 'warning');\n\n    if (warning) {\n      result = setIn(result, 'warning', warning);\n    }\n\n    var syncWarnings = getIn(state, 'syncWarnings');\n\n    if (syncWarnings) {\n      result = setIn(result, 'syncWarnings', syncWarnings);\n    } // persist old errors, they will get recalculated if the new form values are different from the old values\n\n\n    var error = getIn(state, 'error');\n\n    if (error) {\n      result = setIn(result, 'error', error);\n    }\n\n    var syncErrors = getIn(state, 'syncErrors');\n\n    if (syncErrors) {\n      result = setIn(result, 'syncErrors', syncErrors);\n    }\n\n    var registeredFields = getIn(state, 'registeredFields');\n\n    if (registeredFields) {\n      result = setIn(result, 'registeredFields', registeredFields);\n    }\n\n    var previousValues = getIn(state, 'values');\n    var previousInitialValues = getIn(state, 'initial');\n    var newInitialValues = mapData;\n    var newValues = previousValues;\n\n    if (keepDirty && registeredFields) {\n      if (!deepEqual(newInitialValues, previousInitialValues)) {\n        //\n        // Keep the value of dirty fields while updating the value of\n        // pristine fields. This way, apps can reinitialize forms while\n        // avoiding stomping on user edits.\n        //\n        // Note 1: The initialize action replaces all initial values\n        // regardless of keepDirty.\n        //\n        // Note 2: When a field is dirty, keepDirty is enabled, and the field\n        // value is the same as the new initial value for the field, the\n        // initialize action causes the field to become pristine. That effect\n        // is what we want.\n        //\n        var overwritePristineValue = function overwritePristineValue(name) {\n          var previousInitialValue = getIn(previousInitialValues, name);\n          var previousValue = getIn(previousValues, name);\n\n          if (deepEqual(previousValue, previousInitialValue)) {\n            // Overwrite the old pristine value with the new pristine value\n            var newInitialValue = getIn(newInitialValues, name); // This check prevents any 'setIn' call that would create useless\n            // nested objects, since the path to the new field value would\n            // evaluate to the same (especially for undefined values)\n\n            if (getIn(newValues, name) !== newInitialValue) {\n              newValues = setIn(newValues, name, newInitialValue);\n            }\n          }\n        };\n\n        if (!updateUnregisteredFields) {\n          forEach(keys(registeredFields), function (name) {\n            return overwritePristineValue(name);\n          });\n        }\n\n        forEach(keys(newInitialValues), function (name) {\n          var previousInitialValue = getIn(previousInitialValues, name);\n\n          if (typeof previousInitialValue === 'undefined') {\n            // Add new values at the root level.\n            var newInitialValue = getIn(newInitialValues, name);\n            newValues = setIn(newValues, name, newInitialValue);\n          }\n\n          if (updateUnregisteredFields) {\n            overwritePristineValue(name);\n          }\n        });\n      }\n    } else {\n      newValues = newInitialValues;\n    }\n\n    if (keepValues) {\n      forEach(keys(previousValues), function (name) {\n        var previousValue = getIn(previousValues, name);\n        newValues = setIn(newValues, name, previousValue);\n      });\n      forEach(keys(previousInitialValues), function (name) {\n        var previousInitialValue = getIn(previousInitialValues, name);\n        newInitialValues = setIn(newInitialValues, name, previousInitialValue);\n      });\n    }\n\n    if (keepSubmitSucceeded && getIn(state, 'submitSucceeded')) {\n      result = setIn(result, 'submitSucceeded', true);\n    }\n\n    result = setIn(result, 'values', newValues);\n    result = setIn(result, 'initial', newInitialValues);\n    return result;\n  }, _behaviors[REGISTER_FIELD] = function (state, _ref19) {\n    var _ref19$payload = _ref19.payload,\n        name = _ref19$payload.name,\n        type = _ref19$payload.type;\n    var key = \"registeredFields['\" + name + \"']\";\n    var field = getIn(state, key);\n\n    if (field) {\n      var count = getIn(field, 'count') + 1;\n      field = setIn(field, 'count', count);\n    } else {\n      field = fromJS({\n        name: name,\n        type: type,\n        count: 1\n      });\n    }\n\n    return setIn(state, key, field);\n  }, _behaviors[RESET] = function (state) {\n    var result = empty;\n    var registeredFields = getIn(state, 'registeredFields');\n\n    if (registeredFields) {\n      result = setIn(result, 'registeredFields', registeredFields);\n    }\n\n    var values = getIn(state, 'initial');\n\n    if (values) {\n      result = setIn(result, 'values', values);\n      result = setIn(result, 'initial', values);\n    }\n\n    return result;\n  }, _behaviors[RESET_SECTION] = function (state, _ref20) {\n    var sections = _ref20.meta.sections;\n    var result = state;\n    sections.forEach(function (section) {\n      result = deleteInWithCleanUp(result, \"asyncErrors.\" + section);\n      result = deleteInWithCleanUp(result, \"submitErrors.\" + section);\n      result = deleteInWithCleanUp(result, \"fields.\" + section);\n      var values = getIn(state, \"initial.\" + section);\n      result = values ? setIn(result, \"values.\" + section, values) : deleteInWithCleanUp(result, \"values.\" + section);\n    });\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, \"fields.\" + key + \".touched\");\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n    return result;\n  }, _behaviors[SUBMIT] = function (state) {\n    return setIn(state, 'triggerSubmit', true);\n  }, _behaviors[START_ASYNC_VALIDATION] = function (state, _ref21) {\n    var field = _ref21.meta.field;\n    return setIn(state, 'asyncValidating', field || true);\n  }, _behaviors[START_SUBMIT] = function (state) {\n    return setIn(state, 'submitting', true);\n  }, _behaviors[STOP_ASYNC_VALIDATION] = function (state, _ref22) {\n    var payload = _ref22.payload;\n    var result = state;\n    result = deleteIn(result, 'asyncValidating');\n\n    if (payload && Object.keys(payload).length) {\n      var _error = payload._error,\n          fieldErrors = _objectWithoutPropertiesLoose(payload, [\"_error\"]);\n\n      if (_error) {\n        result = setIn(result, 'error', _error);\n      }\n\n      if (Object.keys(fieldErrors).length) {\n        result = setIn(result, 'asyncErrors', fromJS(fieldErrors));\n      }\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'asyncErrors');\n    }\n\n    return result;\n  }, _behaviors[STOP_SUBMIT] = function (state, _ref23) {\n    var payload = _ref23.payload;\n    var result = state;\n    result = deleteIn(result, 'submitting');\n    result = deleteIn(result, 'submitFailed');\n    result = deleteIn(result, 'submitSucceeded');\n\n    if (payload && Object.keys(payload).length) {\n      var _error = payload._error,\n          fieldErrors = _objectWithoutPropertiesLoose(payload, [\"_error\"]);\n\n      if (_error) {\n        result = setIn(result, 'error', _error);\n      } else {\n        result = deleteIn(result, 'error');\n      }\n\n      if (Object.keys(fieldErrors).length) {\n        result = setIn(result, 'submitErrors', fromJS(fieldErrors));\n      } else {\n        result = deleteIn(result, 'submitErrors');\n      }\n\n      result = setIn(result, 'submitFailed', true);\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'submitErrors');\n    }\n\n    return result;\n  }, _behaviors[SET_SUBMIT_FAILED] = function (state, _ref24) {\n    var fields = _ref24.meta.fields;\n    var result = state;\n    result = setIn(result, 'submitFailed', true);\n    result = deleteIn(result, 'submitSucceeded');\n    result = deleteIn(result, 'submitting');\n    fields.forEach(function (field) {\n      return result = setIn(result, \"fields.\" + field + \".touched\", true);\n    });\n\n    if (fields.length) {\n      result = setIn(result, 'anyTouched', true);\n    }\n\n    return result;\n  }, _behaviors[SET_SUBMIT_SUCCEEDED] = function (state) {\n    var result = state;\n    result = deleteIn(result, 'submitFailed');\n    result = setIn(result, 'submitSucceeded', true);\n    return result;\n  }, _behaviors[TOUCH] = function (state, _ref25) {\n    var fields = _ref25.meta.fields;\n    var result = state;\n    fields.forEach(function (field) {\n      return result = setIn(result, \"fields.\" + field + \".touched\", true);\n    });\n    result = setIn(result, 'anyTouched', true);\n    return result;\n  }, _behaviors[UNREGISTER_FIELD] = function (state, _ref26) {\n    var _ref26$payload = _ref26.payload,\n        name = _ref26$payload.name,\n        destroyOnUnmount = _ref26$payload.destroyOnUnmount;\n    var result = state;\n    var key = \"registeredFields['\" + name + \"']\";\n    var field = getIn(result, key);\n\n    if (!field) {\n      return result;\n    }\n\n    var count = getIn(field, 'count') - 1;\n\n    if (count <= 0 && destroyOnUnmount) {\n      // Note: Cannot use deleteWithCleanUp here because of the flat nature of registeredFields\n      result = deleteIn(result, key);\n\n      if (deepEqual(getIn(result, 'registeredFields'), empty)) {\n        result = deleteIn(result, 'registeredFields');\n      }\n\n      var syncErrors = getIn(result, 'syncErrors');\n\n      if (syncErrors) {\n        syncErrors = plainDeleteInWithCleanUp(syncErrors, name);\n\n        if (plain.deepEqual(syncErrors, plain.empty)) {\n          result = deleteIn(result, 'syncErrors');\n        } else {\n          result = setIn(result, 'syncErrors', syncErrors);\n        }\n      }\n\n      var syncWarnings = getIn(result, 'syncWarnings');\n\n      if (syncWarnings) {\n        syncWarnings = plainDeleteInWithCleanUp(syncWarnings, name);\n\n        if (plain.deepEqual(syncWarnings, plain.empty)) {\n          result = deleteIn(result, 'syncWarnings');\n        } else {\n          result = setIn(result, 'syncWarnings', syncWarnings);\n        }\n      }\n\n      result = deleteInWithCleanUp(result, \"submitErrors.\" + name);\n      result = deleteInWithCleanUp(result, \"asyncErrors.\" + name);\n    } else {\n      field = setIn(field, 'count', count);\n      result = setIn(result, key, field);\n    }\n\n    return result;\n  }, _behaviors[UNTOUCH] = function (state, _ref27) {\n    var fields = _ref27.meta.fields;\n    var result = state;\n    fields.forEach(function (field) {\n      return result = deleteIn(result, \"fields.\" + field + \".touched\");\n    });\n    var anyTouched = some(keys(getIn(result, 'registeredFields')), function (key) {\n      return getIn(result, \"fields.\" + key + \".touched\");\n    });\n    result = anyTouched ? setIn(result, 'anyTouched', true) : deleteIn(result, 'anyTouched');\n    return result;\n  }, _behaviors[UPDATE_SYNC_ERRORS] = function (state, _ref28) {\n    var _ref28$payload = _ref28.payload,\n        syncErrors = _ref28$payload.syncErrors,\n        error = _ref28$payload.error;\n    var result = state;\n\n    if (error) {\n      result = setIn(result, 'error', error);\n      result = setIn(result, 'syncError', true);\n    } else {\n      result = deleteIn(result, 'error');\n      result = deleteIn(result, 'syncError');\n    }\n\n    if (Object.keys(syncErrors).length) {\n      result = setIn(result, 'syncErrors', syncErrors);\n    } else {\n      result = deleteIn(result, 'syncErrors');\n    }\n\n    return result;\n  }, _behaviors[UPDATE_SYNC_WARNINGS] = function (state, _ref29) {\n    var _ref29$payload = _ref29.payload,\n        syncWarnings = _ref29$payload.syncWarnings,\n        warning = _ref29$payload.warning;\n    var result = state;\n\n    if (warning) {\n      result = setIn(result, 'warning', warning);\n    } else {\n      result = deleteIn(result, 'warning');\n    }\n\n    if (Object.keys(syncWarnings).length) {\n      result = setIn(result, 'syncWarnings', syncWarnings);\n    } else {\n      result = deleteIn(result, 'syncWarnings');\n    }\n\n    return result;\n  }, _behaviors);\n\n  var reducer = function reducer(state, action) {\n    if (state === void 0) {\n      state = empty;\n    }\n\n    var behavior = behaviors[action.type];\n    return behavior ? behavior(state, action) : state;\n  };\n\n  var byForm = function byForm(reducer) {\n    return function (state, action) {\n      if (state === void 0) {\n        state = empty;\n      }\n\n      if (action === void 0) {\n        action = {\n          type: 'NONE'\n        };\n      }\n\n      var form = action && action.meta && action.meta.form;\n\n      if (!form || !isReduxFormAction(action)) {\n        return state;\n      }\n\n      if (action.type === DESTROY && action.meta && action.meta.form) {\n        return action.meta.form.reduce(function (result, form) {\n          return deleteInWithCleanUp(result, form);\n        }, state);\n      }\n\n      var formState = getIn(state, form);\n      var result = reducer(formState, action);\n      return result === formState ? state : setIn(state, form, result);\n    };\n  };\n  /**\n   * Adds additional functionality to the reducer\n   */\n\n\n  function decorate(target) {\n    target.plugin = function (reducers, config) {\n      var _this = this;\n\n      if (config === void 0) {\n        config = {};\n      }\n\n      // use 'function' keyword to enable 'this'\n      return decorate(function (state, action) {\n        if (state === void 0) {\n          state = empty;\n        }\n\n        if (action === void 0) {\n          action = {\n            type: 'NONE'\n          };\n        }\n\n        var callPlugin = function callPlugin(processed, key) {\n          var previousState = getIn(processed, key);\n          var nextState = reducers[key](previousState, action, getIn(state, key));\n          return nextState !== previousState ? setIn(processed, key, nextState) : processed;\n        };\n\n        var processed = _this(state, action); // run through redux-form reducer\n\n\n        var form = action && action.meta && action.meta.form;\n\n        if (form && !config.receiveAllFormActions) {\n          // this is an action aimed at forms, so only give it to the specified form's plugin\n          return reducers[form] ? callPlugin(processed, form) : processed;\n        } else {\n          // this is not a form-specific action, so send it to all the plugins\n          return Object.keys(reducers).reduce(callPlugin, processed);\n        }\n      });\n    };\n\n    return target;\n  }\n\n  return decorate(byForm(reducer));\n}\n\nexport default createReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}