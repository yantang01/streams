{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport { Component, createElement, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport get from 'lodash/get';\nimport createConnectedFields from './ConnectedFields';\nimport shallowCompare from './util/shallowCompare';\nimport plain from './structure/plain';\nimport prefixName from './util/prefixName';\nimport { withReduxForm } from './ReduxFormContext';\nimport validateComponentProp from './util/validateComponentProp';\n\nvar validateNameProp = function validateNameProp(prop) {\n  if (!prop) {\n    return new Error('No \"names\" prop was specified <Fields/>');\n  }\n\n  if (!Array.isArray(prop) && !prop._isFieldArray) {\n    return new Error('Invalid prop \"names\" supplied to <Fields/>. Must be either an array of strings or the fields array generated by FieldArray.');\n  }\n};\n\nvar warnAndValidatePropType = PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func), PropTypes.objectOf(PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]))]);\nvar fieldsPropTypes = {\n  component: validateComponentProp,\n  format: PropTypes.func,\n  parse: PropTypes.func,\n  props: PropTypes.object,\n  forwardRef: PropTypes.bool,\n  validate: warnAndValidatePropType,\n  warn: warnAndValidatePropType\n};\n\nvar getFieldWarnAndValidate = function getFieldWarnAndValidate(prop, name) {\n  return Array.isArray(prop) || typeof prop === 'function' ? prop : get(prop, name, undefined);\n};\n\nexport default function createFields(structure) {\n  var ConnectedFields = createConnectedFields(structure);\n\n  var Fields = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(Fields, _Component);\n\n    function Fields(props) {\n      var _this;\n\n      _this = _Component.call(this, props) || this;\n      _this.connected = createRef();\n\n      if (!props._reduxForm) {\n        throw new Error('Fields must be inside a component decorated with reduxForm()');\n      }\n\n      var error = validateNameProp(props.names);\n\n      if (error) {\n        throw error;\n      }\n\n      return _this;\n    }\n\n    var _proto = Fields.prototype;\n\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      return shallowCompare(this, nextProps);\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      this.registerFields(this.props.names);\n    };\n\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (!plain.deepEqual(this.props.names, nextProps.names)) {\n        var props = this.props;\n        var unregister = props._reduxForm.unregister; // unregister old name\n\n        this.props.names.forEach(function (name) {\n          return unregister(prefixName(props, name));\n        }); // register new name\n\n        this.registerFields(nextProps.names);\n      }\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      var props = this.props;\n      var unregister = props._reduxForm.unregister;\n      this.props.names.forEach(function (name) {\n        return unregister(prefixName(props, name));\n      });\n    };\n\n    _proto.registerFields = function registerFields(names) {\n      var _this2 = this;\n\n      var props = this.props;\n      var register = props._reduxForm.register;\n      names.forEach(function (name) {\n        return register(prefixName(props, name), 'Field', function () {\n          return getFieldWarnAndValidate(_this2.props.validate, name);\n        }, function () {\n          return getFieldWarnAndValidate(_this2.props.warn, name);\n        });\n      });\n    };\n\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      invariant(this.props.forwardRef, 'If you want to access getRenderedComponent(), ' + 'you must specify a forwardRef prop to Fields');\n      return this.connected.current ? this.connected.current.getRenderedComponent() : null;\n    };\n\n    _proto.render = function render() {\n      var props = this.props;\n      return createElement(ConnectedFields, _extends({}, this.props, {\n        names: this.props.names.map(function (name) {\n          return prefixName(props, name);\n        }),\n        ref: this.connected\n      }));\n    };\n\n    _createClass(Fields, [{\n      key: \"names\",\n      get: function get() {\n        var props = this.props;\n        return this.props.names.map(function (name) {\n          return prefixName(props, name);\n        });\n      }\n    }, {\n      key: \"dirty\",\n      get: function get() {\n        return this.connected.current ? this.connected.current.isDirty() : false;\n      }\n    }, {\n      key: \"pristine\",\n      get: function get() {\n        return !this.dirty;\n      }\n    }, {\n      key: \"values\",\n      get: function get() {\n        return this.connected.current ? this.connected.current.getValues() : {};\n      }\n    }]);\n\n    return Fields;\n  }(Component);\n\n  Fields.propTypes = _extends({\n    names: function names(props, propName) {\n      return validateNameProp(props[propName]);\n    }\n  }, fieldsPropTypes);\n  return withReduxForm(Fields);\n}","map":{"version":3,"names":["_extends","_createClass","_inheritsLoose","Component","createElement","createRef","PropTypes","invariant","get","createConnectedFields","shallowCompare","plain","prefixName","withReduxForm","validateComponentProp","validateNameProp","prop","Error","Array","isArray","_isFieldArray","warnAndValidatePropType","oneOfType","func","arrayOf","objectOf","fieldsPropTypes","component","format","parse","props","object","forwardRef","bool","validate","warn","getFieldWarnAndValidate","name","undefined","createFields","structure","ConnectedFields","Fields","_Component","_this","call","connected","_reduxForm","error","names","_proto","prototype","shouldComponentUpdate","nextProps","componentDidMount","registerFields","UNSAFE_componentWillReceiveProps","deepEqual","unregister","forEach","componentWillUnmount","_this2","register","getRenderedComponent","current","render","map","ref","key","isDirty","dirty","getValues","propTypes","propName"],"sources":["/Users/ytang/Documents/React/streams/client/node_modules/redux-form/es/createFields.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport { Component, createElement, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'invariant';\nimport get from 'lodash/get';\nimport createConnectedFields from './ConnectedFields';\nimport shallowCompare from './util/shallowCompare';\nimport plain from './structure/plain';\nimport prefixName from './util/prefixName';\nimport { withReduxForm } from './ReduxFormContext';\nimport validateComponentProp from './util/validateComponentProp';\n\nvar validateNameProp = function validateNameProp(prop) {\n  if (!prop) {\n    return new Error('No \"names\" prop was specified <Fields/>');\n  }\n\n  if (!Array.isArray(prop) && !prop._isFieldArray) {\n    return new Error('Invalid prop \"names\" supplied to <Fields/>. Must be either an array of strings or the fields array generated by FieldArray.');\n  }\n};\n\nvar warnAndValidatePropType = PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func), PropTypes.objectOf(PropTypes.oneOfType([PropTypes.func, PropTypes.arrayOf(PropTypes.func)]))]);\nvar fieldsPropTypes = {\n  component: validateComponentProp,\n  format: PropTypes.func,\n  parse: PropTypes.func,\n  props: PropTypes.object,\n  forwardRef: PropTypes.bool,\n  validate: warnAndValidatePropType,\n  warn: warnAndValidatePropType\n};\n\nvar getFieldWarnAndValidate = function getFieldWarnAndValidate(prop, name) {\n  return Array.isArray(prop) || typeof prop === 'function' ? prop : get(prop, name, undefined);\n};\n\nexport default function createFields(structure) {\n  var ConnectedFields = createConnectedFields(structure);\n\n  var Fields = /*#__PURE__*/function (_Component) {\n    _inheritsLoose(Fields, _Component);\n\n    function Fields(props) {\n      var _this;\n\n      _this = _Component.call(this, props) || this;\n      _this.connected = createRef();\n\n      if (!props._reduxForm) {\n        throw new Error('Fields must be inside a component decorated with reduxForm()');\n      }\n\n      var error = validateNameProp(props.names);\n\n      if (error) {\n        throw error;\n      }\n\n      return _this;\n    }\n\n    var _proto = Fields.prototype;\n\n    _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      return shallowCompare(this, nextProps);\n    };\n\n    _proto.componentDidMount = function componentDidMount() {\n      this.registerFields(this.props.names);\n    };\n\n    _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(nextProps) {\n      if (!plain.deepEqual(this.props.names, nextProps.names)) {\n        var props = this.props;\n        var unregister = props._reduxForm.unregister; // unregister old name\n\n        this.props.names.forEach(function (name) {\n          return unregister(prefixName(props, name));\n        }); // register new name\n\n        this.registerFields(nextProps.names);\n      }\n    };\n\n    _proto.componentWillUnmount = function componentWillUnmount() {\n      var props = this.props;\n      var unregister = props._reduxForm.unregister;\n      this.props.names.forEach(function (name) {\n        return unregister(prefixName(props, name));\n      });\n    };\n\n    _proto.registerFields = function registerFields(names) {\n      var _this2 = this;\n\n      var props = this.props;\n      var register = props._reduxForm.register;\n      names.forEach(function (name) {\n        return register(prefixName(props, name), 'Field', function () {\n          return getFieldWarnAndValidate(_this2.props.validate, name);\n        }, function () {\n          return getFieldWarnAndValidate(_this2.props.warn, name);\n        });\n      });\n    };\n\n    _proto.getRenderedComponent = function getRenderedComponent() {\n      invariant(this.props.forwardRef, 'If you want to access getRenderedComponent(), ' + 'you must specify a forwardRef prop to Fields');\n      return this.connected.current ? this.connected.current.getRenderedComponent() : null;\n    };\n\n    _proto.render = function render() {\n      var props = this.props;\n      return createElement(ConnectedFields, _extends({}, this.props, {\n        names: this.props.names.map(function (name) {\n          return prefixName(props, name);\n        }),\n        ref: this.connected\n      }));\n    };\n\n    _createClass(Fields, [{\n      key: \"names\",\n      get: function get() {\n        var props = this.props;\n        return this.props.names.map(function (name) {\n          return prefixName(props, name);\n        });\n      }\n    }, {\n      key: \"dirty\",\n      get: function get() {\n        return this.connected.current ? this.connected.current.isDirty() : false;\n      }\n    }, {\n      key: \"pristine\",\n      get: function get() {\n        return !this.dirty;\n      }\n    }, {\n      key: \"values\",\n      get: function get() {\n        return this.connected.current ? this.connected.current.getValues() : {};\n      }\n    }]);\n\n    return Fields;\n  }(Component);\n\n  Fields.propTypes = _extends({\n    names: function names(props, propName) {\n      return validateNameProp(props[propName]);\n    }\n  }, fieldsPropTypes);\n  return withReduxForm(Fields);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}