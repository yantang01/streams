{"ast":null,"code":"import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _mapValues from \"lodash/mapValues\";\nimport _isEqual from \"lodash/isEqual\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport prefixName from './util/prefixName';\nimport { withReduxForm } from './ReduxFormContext';\nexport default function createValues(_ref) {\n  var getIn = _ref.getIn;\n  return function (firstArg) {\n    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    } // create a class that reads current form name and creates a selector\n    // return\n\n\n    return function (Component) {\n      var FormValues = /*#__PURE__*/function (_React$Component) {\n        _inheritsLoose(FormValues, _React$Component);\n\n        function FormValues(props) {\n          var _this;\n\n          _this = _React$Component.call(this, props) || this;\n\n          if (!props._reduxForm) {\n            throw new Error('formValues() must be used inside a React tree decorated with reduxForm()');\n          }\n\n          _this.updateComponent(props);\n\n          return _this;\n        }\n\n        var _proto = FormValues.prototype;\n\n        _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(props) {\n          if (typeof firstArg === 'function') {\n            this.updateComponent(props);\n          }\n        };\n\n        _proto.render = function render() {\n          var Component = this.Component;\n          return /*#__PURE__*/React.createElement(Component // so that the connected component updates props when sectionPrefix has changed\n          , _extends({\n            sectionPrefix: this.props._reduxForm.sectionPrefix\n          }, this.props));\n        };\n\n        _proto.updateComponent = function updateComponent(props) {\n          var valuesMap;\n          var resolvedFirstArg = typeof firstArg === 'function' ? firstArg(props) : firstArg;\n\n          if (typeof resolvedFirstArg === 'string') {\n            var _rest$reduce;\n\n            valuesMap = rest.reduce(function (result, k) {\n              result[k] = k;\n              return result;\n            }, (_rest$reduce = {}, _rest$reduce[resolvedFirstArg] = resolvedFirstArg, _rest$reduce));\n          } else {\n            valuesMap = resolvedFirstArg;\n          }\n\n          if (_isEmpty(valuesMap)) {\n            // maybe that empty valuesMap is ok if firstArg is a function?\n            // if this is the case, we probably should set this.Component = Component\n            throw new Error('formValues(): You must specify values to get as formValues(name1, name2, ...) or formValues({propName1: propPath1, ...}) or formValues((props) => name) or formValues((props) => ({propName1: propPath1, ...}))');\n          }\n\n          if (_isEqual(valuesMap, this._valuesMap)) {\n            // no change in valuesMap\n            return;\n          }\n\n          this._valuesMap = valuesMap;\n          this.setComponent();\n        };\n\n        _proto.setComponent = function setComponent() {\n          var _this2 = this;\n\n          var formValuesSelector = function formValuesSelector(_, _ref2) {\n            var sectionPrefix = _ref2.sectionPrefix; // Yes, we're only using connect() for listening to updates.\n            // The second argument needs to be there so that connect calls\n            // the selector when props change\n\n            var getValues = _this2.props._reduxForm.getValues;\n            var values = getValues();\n            return _mapValues(_this2._valuesMap, function (path) {\n              return getIn(values, prefixName(_this2.props, path));\n            });\n          };\n\n          this.Component = connect(formValuesSelector, function () {\n            return {};\n          } // ignore dispatch\n          )(function (_ref3) {\n            var sectionPrefix = _ref3.sectionPrefix,\n                otherProps = _objectWithoutPropertiesLoose(_ref3, [\"sectionPrefix\"]);\n\n            return /*#__PURE__*/React.createElement(Component, otherProps);\n          });\n        };\n\n        return FormValues;\n      }(React.Component);\n\n      return withReduxForm(FormValues);\n    };\n  };\n}","map":{"version":3,"names":["_objectWithoutPropertiesLoose","_extends","_inheritsLoose","_mapValues","_isEqual","_isEmpty","React","connect","prefixName","withReduxForm","createValues","_ref","getIn","firstArg","_len","arguments","length","rest","Array","_key","Component","FormValues","_React$Component","props","_this","call","_reduxForm","Error","updateComponent","_proto","prototype","UNSAFE_componentWillReceiveProps","render","createElement","sectionPrefix","valuesMap","resolvedFirstArg","_rest$reduce","reduce","result","k","_valuesMap","setComponent","_this2","formValuesSelector","_","_ref2","getValues","values","path","_ref3","otherProps"],"sources":["/Users/ytang/Documents/React/streams/client/node_modules/redux-form/es/createFormValues.js"],"sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _mapValues from \"lodash/mapValues\";\nimport _isEqual from \"lodash/isEqual\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport prefixName from './util/prefixName';\nimport { withReduxForm } from './ReduxFormContext';\nexport default function createValues(_ref) {\n  var getIn = _ref.getIn;\n  return function (firstArg) {\n    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    // create a class that reads current form name and creates a selector\n    // return\n    return function (Component) {\n      var FormValues = /*#__PURE__*/function (_React$Component) {\n        _inheritsLoose(FormValues, _React$Component);\n\n        function FormValues(props) {\n          var _this;\n\n          _this = _React$Component.call(this, props) || this;\n\n          if (!props._reduxForm) {\n            throw new Error('formValues() must be used inside a React tree decorated with reduxForm()');\n          }\n\n          _this.updateComponent(props);\n\n          return _this;\n        }\n\n        var _proto = FormValues.prototype;\n\n        _proto.UNSAFE_componentWillReceiveProps = function UNSAFE_componentWillReceiveProps(props) {\n          if (typeof firstArg === 'function') {\n            this.updateComponent(props);\n          }\n        };\n\n        _proto.render = function render() {\n          var Component = this.Component;\n          return /*#__PURE__*/React.createElement(Component // so that the connected component updates props when sectionPrefix has changed\n          , _extends({\n            sectionPrefix: this.props._reduxForm.sectionPrefix\n          }, this.props));\n        };\n\n        _proto.updateComponent = function updateComponent(props) {\n          var valuesMap;\n          var resolvedFirstArg = typeof firstArg === 'function' ? firstArg(props) : firstArg;\n\n          if (typeof resolvedFirstArg === 'string') {\n            var _rest$reduce;\n\n            valuesMap = rest.reduce(function (result, k) {\n              result[k] = k;\n              return result;\n            }, (_rest$reduce = {}, _rest$reduce[resolvedFirstArg] = resolvedFirstArg, _rest$reduce));\n          } else {\n            valuesMap = resolvedFirstArg;\n          }\n\n          if (_isEmpty(valuesMap)) {\n            // maybe that empty valuesMap is ok if firstArg is a function?\n            // if this is the case, we probably should set this.Component = Component\n            throw new Error('formValues(): You must specify values to get as formValues(name1, name2, ...) or formValues({propName1: propPath1, ...}) or formValues((props) => name) or formValues((props) => ({propName1: propPath1, ...}))');\n          }\n\n          if (_isEqual(valuesMap, this._valuesMap)) {\n            // no change in valuesMap\n            return;\n          }\n\n          this._valuesMap = valuesMap;\n          this.setComponent();\n        };\n\n        _proto.setComponent = function setComponent() {\n          var _this2 = this;\n\n          var formValuesSelector = function formValuesSelector(_, _ref2) {\n            var sectionPrefix = _ref2.sectionPrefix;\n            // Yes, we're only using connect() for listening to updates.\n            // The second argument needs to be there so that connect calls\n            // the selector when props change\n            var getValues = _this2.props._reduxForm.getValues;\n            var values = getValues();\n            return _mapValues(_this2._valuesMap, function (path) {\n              return getIn(values, prefixName(_this2.props, path));\n            });\n          };\n\n          this.Component = connect(formValuesSelector, function () {\n            return {};\n          } // ignore dispatch\n          )(function (_ref3) {\n            var sectionPrefix = _ref3.sectionPrefix,\n                otherProps = _objectWithoutPropertiesLoose(_ref3, [\"sectionPrefix\"]);\n\n            return /*#__PURE__*/React.createElement(Component, otherProps);\n          });\n        };\n\n        return FormValues;\n      }(React.Component);\n\n      return withReduxForm(FormValues);\n    };\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}