{"ast":null,"code":"import isPromise from 'is-promise';\n\nvar asyncValidation = function asyncValidation(fn, start, stop, field) {\n  start(field);\n  var promise = fn();\n\n  if (!isPromise(promise)) {\n    throw new Error('asyncValidate function passed to reduxForm must return a promise');\n  }\n\n  var handleErrors = function handleErrors(rejected) {\n    return function (errors) {\n      if (rejected) {\n        if (errors && Object.keys(errors).length) {\n          stop(errors);\n          return errors;\n        } else {\n          stop();\n          throw new Error('Asynchronous validation promise was rejected without errors.');\n        }\n      }\n\n      stop();\n      return Promise.resolve();\n    };\n  };\n\n  return promise.then(handleErrors(false), handleErrors(true));\n};\n\nexport default asyncValidation;","map":{"version":3,"names":["isPromise","asyncValidation","fn","start","stop","field","promise","Error","handleErrors","rejected","errors","Object","keys","length","Promise","resolve","then"],"sources":["/Users/ytang/Documents/React/streams/client/node_modules/redux-form/es/asyncValidation.js"],"sourcesContent":["import isPromise from 'is-promise';\n\nvar asyncValidation = function asyncValidation(fn, start, stop, field) {\n  start(field);\n  var promise = fn();\n\n  if (!isPromise(promise)) {\n    throw new Error('asyncValidate function passed to reduxForm must return a promise');\n  }\n\n  var handleErrors = function handleErrors(rejected) {\n    return function (errors) {\n      if (rejected) {\n        if (errors && Object.keys(errors).length) {\n          stop(errors);\n          return errors;\n        } else {\n          stop();\n          throw new Error('Asynchronous validation promise was rejected without errors.');\n        }\n      }\n\n      stop();\n      return Promise.resolve();\n    };\n  };\n\n  return promise.then(handleErrors(false), handleErrors(true));\n};\n\nexport default asyncValidation;"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;;AAEA,IAAIC,eAAe,GAAG,SAASA,eAAT,CAAyBC,EAAzB,EAA6BC,KAA7B,EAAoCC,IAApC,EAA0CC,KAA1C,EAAiD;EACrEF,KAAK,CAACE,KAAD,CAAL;EACA,IAAIC,OAAO,GAAGJ,EAAE,EAAhB;;EAEA,IAAI,CAACF,SAAS,CAACM,OAAD,CAAd,EAAyB;IACvB,MAAM,IAAIC,KAAJ,CAAU,kEAAV,CAAN;EACD;;EAED,IAAIC,YAAY,GAAG,SAASA,YAAT,CAAsBC,QAAtB,EAAgC;IACjD,OAAO,UAAUC,MAAV,EAAkB;MACvB,IAAID,QAAJ,EAAc;QACZ,IAAIC,MAAM,IAAIC,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoBG,MAAlC,EAA0C;UACxCT,IAAI,CAACM,MAAD,CAAJ;UACA,OAAOA,MAAP;QACD,CAHD,MAGO;UACLN,IAAI;UACJ,MAAM,IAAIG,KAAJ,CAAU,8DAAV,CAAN;QACD;MACF;;MAEDH,IAAI;MACJ,OAAOU,OAAO,CAACC,OAAR,EAAP;IACD,CAbD;EAcD,CAfD;;EAiBA,OAAOT,OAAO,CAACU,IAAR,CAAaR,YAAY,CAAC,KAAD,CAAzB,EAAkCA,YAAY,CAAC,IAAD,CAA9C,CAAP;AACD,CA1BD;;AA4BA,eAAeP,eAAf"},"metadata":{},"sourceType":"module"}